<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Miss Banaras - A beauty competition celebrating the soul of Varanasi. Register now to shine like the Ganges!">
    <meta name="keywords" content="Miss Banaras, Varanasi, beauty competition, Ganges, cultural heritage">
    <meta name="author" content="Miss Banaras Team">
    <title>Miss Banaras - Beauty Competition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Satisfy&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <style>
        /* Root Variables for Banaras-Inspired Theme */
        :root {
            --primary-color: #F2B134; /* Saffron */
            --secondary-color: #D35269; /* Maroon */
            --accent-color: #FFD700; /* Gold */
            --dark-color: #221A31; /* Night sky */
            --light-color: #FFF8E8; /* Cream */
            --ghat-color: #8B6E4E; /* Ghat brown */
            --water-color: #4A90E2; /* Ganges blue */
            --diya-glow: #FF8C00; /* Diya flame */
            --error-color: #D32F2F; /* Error red */
            --success-color: #388E3C; /* Success green */
            --canvas-bg: rgba(255, 248, 232, 0.2); /* Canvas background */
            --glass-bg: rgba(255, 255, 255, 0.15); /* Glassmorphism */
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.15); /* Soft shadow */
            --saree-texture: url('https://i.imgur.com/saree-texture.png'); /* Saree pattern */
        }

        /* Dark Theme Variables */
        [data-theme="dark"] {
            --primary-color: #FFB300;
            --secondary-color: #FF6F61;
            --accent-color: #FFD700;
            --dark-color: #FFFFFF;
            --light-color: #1A1A1A;
            --ghat-color: #A0522D;
            --canvas-bg: rgba(26, 26, 26, 0.4);
            --glass-bg: rgba(50, 50, 50, 0.25);
        }

        /* Global Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        /* Body Styling */
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #F8F1E5, #FFF8E8);
            min-height: 100vh;
            color: var(--dark-color);
            display: flex;
            flex-direction: column;
            transition: background 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
            position: relative;
        }

        /* Canvas for Three.js Background */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: var(--canvas-bg);
        }

        /* Header Styling */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem 4rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Logo Styling */
        .logo {
            font-family: 'Satisfy', cursive;
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--secondary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            transition: transform 0.4s ease, color 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
            color: var(--accent-color);
        }

        .logo-icon {
            margin-right: 15px;
            color: var(--accent-color);
            font-size: 2.2rem;
            transition: transform 0.3s ease;
        }

        .logo:hover .logo-icon {
            transform: rotate(360deg);
        }

        /* Menu Toggle for Mobile */
        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            z-index: 1001;
        }

        .menu-toggle span {
            width: 30px;
            height: 4px;
            background-color: var(--dark-color);
            margin: 4px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        /* Navigation Links */
        .nav-links {
            display: flex;
            list-style: none;
            align-items: center;
        }

        .nav-link {
            margin: 0 2rem;
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            position: relative;
            padding: 5px 0;
        }

        .nav-link:hover {
            color: var(--accent-color);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            height: 3px;
            width: 0;
            background: var(--accent-color);
            transition: width 0.4s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            cursor: pointer;
            font-size: 1.6rem;
            color: var(--dark-color);
            transition: transform 0.5s ease, color 0.3s ease;
        }

        .theme-toggle:hover {
            transform: rotate(360deg);
            color: var(--accent-color);
        }

        /* Main Container */
        .main-container {
            width: 100%;
            padding-top: 150px;
            padding-bottom: 80px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* Form Container */
        .form-container {
            background: var(--glass-bg);
            border-radius: 30px;
            box-shadow: var(--shadow);
            width: 90%;
            max-width: 1200px;
            padding: 70px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
            transition: all 0.5s ease;
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        /* Dark Theme Form Container */
        [data-theme="dark"] .form-container {
            background: var(--glass-bg);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Form Container Border Gradient */
        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 12px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color), var(--accent-color));
        }

        /* Form Heading */
        .form-heading {
            font-family: 'Cinzel', serif;
            color: var(--secondary-color);
            margin-bottom: 50px;
            text-align: center;
            font-size: 3.5rem;
            font-weight: 700;
            position: relative;
            animation: slideIn 0.7s ease;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
        }

        .form-heading::after {
            content: '';
            display: block;
            width: 120px;
            height: 6px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            margin: 25px auto 0;
            border-radius: 3px;
        }

        /* Form Subheading */
        .form-subheading {
            font-family: 'Cinzel', serif;
            color: var(--dark-color);
            margin: 50px 0 30px;
            font-size: 2.2rem;
            font-weight: 600;
            position: relative;
            padding-left: 25px;
        }

        .form-subheading::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 7px;
            height: 90%;
            background: var(--accent-color);
            border-radius: 4px;
        }

        /* Stepper */
        .stepper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            position: relative;
        }

        .stepper::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 6px;
            background: #ddd;
            transform: translateY(-50%);
            z-index: 0;
            border-radius: 3px;
        }

        .stepper .step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .stepper .step-circle {
            width: 55px;
            height: 55px;
            background: #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: 700;
            color: white;
            font-size: 1.3rem;
            transition: all 0.4s ease;
            box-shadow: var(--shadow);
        }

        .stepper .step.active .step-circle {
            background: var(--accent-color);
            transform: scale(1.2);
        }

        .stepper .step.completed .step-circle {
            background: var(--success-color);
        }

        .stepper .step-title {
            font-size: 1.2rem;
            color: var(--dark-color);
            font-weight: 500;
        }

        /* Input Group */
        .input-group {
            margin-bottom: 35px;
            position: relative;
        }

        .input-label {
            display: block;
            margin-bottom: 15px;
            font-weight: 500;
            color: var(--dark-color);
            font-size: 1.2rem;
        }

        .input-field {
            width: 100%;
            padding: 18px 22px;
            border: 1px solid #ddd;
            border-radius: 14px;
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            background: var(--glass-bg);
            color: var(--dark-color);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 5px rgba(242, 177, 52, 0.3);
        }

        textarea.input-field {
            min-height: 180px;
            resize: vertical;
        }

        .hint-text {
            font-size: 1rem;
            color: #777;
            margin-top: 10px;
        }

        .error-message {
            color: var(--error-color);
            font-size: 1rem;
            margin-top: 10px;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .input-field.error {
            border-color: var(--error-color);
            box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.2);
        }

        /* Two-Column Layout */
        .columns-2 {
            display: flex;
            gap: 35px;
            flex-wrap: wrap;
        }

        .columns-2 .input-group {
            flex: 1 1 calc(50% - 17.5px);
            min-width: 300px;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            border-radius: 14px;
            padding: 18px 40px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(225, 103, 60, 0.5);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .btn i {
            margin-right: 15px;
        }

        .btn-row {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        /* Google Button */
        .google-btn {
            background: var(--glass-bg);
            color: var(--dark-color);
            border: 1px solid #ddd;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
        }

        .google-btn i {
            color: #4285F4;
            font-size: 1.5rem;
        }

        .google-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: var(--shadow);
        }

        /* Logout Button */
        .logout-btn {
            background: linear-gradient(to right, #f44336, #e57373);
            margin-top: 30px;
        }

        /* Next Button */
        .next-btn {
            background: linear-gradient(to right, var(--secondary-color), var(--accent-color));
            margin-top: 30px;
            padding: 20px 45px;
            font-size: 1.4rem;
        }

        /* Photo Upload Container */
        .photo-upload-container {
            border: 2px dashed var(--primary-color);
            border-radius: 18px;
            padding: 60px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 35px;
            position: relative;
            background: var(--glass-bg);
        }

        .photo-upload-container:hover {
            border-color: var(--accent-color);
            background: rgba(242, 177, 52, 0.15);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .photo-upload-container:hover .upload-icon {
            transform: scale(1.2);
        }

        .photo-upload-text {
            font-weight: 600;
            font-size: 1.4rem;
            margin-bottom: 15px;
        }

        .photo-requirements {
            font-size: 1.1rem;
            color: #777;
        }

        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Progress Bar */
        .progress-bar {
            height: 16px;
            background: #f0f0f0;
            border-radius: 8px;
            margin: 30px 0;
            overflow: hidden;
            position: relative;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
            background-size: 20px 20px;
            animation: move 2s linear infinite;
        }

        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 20px 20px; }
        }

        /* Status Message */
        .status-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
            font-weight: 500;
        }

        /* Horizontal Photo Gallery */
        .photo-swatch {
            display: flex;
            overflow-x: auto;
            gap: 25px;
            margin-top: 35px;
            padding-bottom: 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) #f0f0f0;
        }

        .photo-swatch::-webkit-scrollbar {
            height: 10px;
        }

        .photo-swatch::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 5px;
        }

        .photo-swatch::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 5px;
        }

        .gallery-img {
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #ddd;
            flex-shrink: 0;
        }

        .gallery-img:hover {
            transform: scale(1.15);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
            border-color: var(--accent-color);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 50px;
        }

        .tab {
            padding: 18px 35px;
            cursor: pointer;
            border-bottom: 4px solid transparent;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom: 4px solid var(--accent-color);
            color: var(--accent-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.7s ease forwards;
        }

        /* Success Message */
        .success-message {
            background: rgba(56, 142, 60, 0.2);
            border-left: 6px solid var(--success-color);
            padding: 30px;
            margin: 30px 0;
            border-radius: 10px;
            color: var(--success-color);
            display: none;
            font-size: 1.3rem;
        }

        .success-message i {
            margin-right: 15px;
        }

        /* Selected File Display */
        .selected-file {
            margin-top: 25px;
            color: var(--accent-color);
            font-weight: 600;
            display: none;
        }

        /* Loader */
        .loader {
            border: 6px solid #f3f3f3;
            border-top: 6px solid var(--accent-color);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
            display: none;
            margin-left: 20px;
        }

        /* User Info Section */
        .user-info {
            background: var(--glass-bg);
            border-radius: 18px;
            padding: 35px;
            margin-bottom: 35px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        [data-theme="dark"] .user-info {
            background: var(--glass-bg);
        }

        .user-info h3 {
            font-family: 'Cinzel', serif;
            color: var(--secondary-color);
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        .user-info p {
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            color: var(--dark-color);
        }

        .user-info p strong {
            width: 200px;
            color: var(--accent-color);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            max-width: 95%;
            max-height: 95%;
            border-radius: 15px;
            overflow: hidden;
        }

        .modal-img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
        }

        .modal-close {
            position: absolute;
            top: 25px;
            right: 25px;
            background: var(--error-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 22px;
            transition: transform 0.3s ease;
        }

        .modal-close:hover {
            transform: rotate(90deg);
        }

        /* Banaras Culture Section */
        .banaras-culture {
            background: linear-gradient(to bottom, rgba(242, 177, 52, 0.15), rgba(211, 82, 105, 0.15));
            border-radius: 18px;
            padding: 50px;
            margin: 50px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .banaras-culture h2 {
            font-family: 'Cinzel', serif;
            color: var(--secondary-color);
            font-size: 3rem;
            margin-bottom: 25px;
        }

        .banaras-culture p {
            font-size: 1.3rem;
            color: var(--dark-color);
            line-height: 1.9;
            max-width: 900px;
            margin: 0 auto 30px;
        }

        .banaras-culture::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--saree-texture);
            opacity: 0.1;
            z-index: -1;
        }

        /* Culture Carousel */
        .culture-carousel {
            display: flex;
            overflow-x: auto;
            gap: 30px;
            padding-bottom: 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) #f0f0f0;
        }

        .culture-carousel::-webkit-scrollbar {
            height: 10px;
        }

        .culture-carousel::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 5px;
        }

        .culture-carousel::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 5px;
        }

        .culture-item {
            flex: 0 0 300px;
            background: var(--glass-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }

        .culture-item:hover {
            transform: translateY(-10px);
        }

        .culture-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .culture-caption {
            padding: 20px;
            font-size: 1.1rem;
            color: var(--dark-color);
            text-align: center;
        }

        /* Sound Toggle */
        .sound-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--glass-bg);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .sound-toggle:hover {
            transform: scale(1.1);
        }

        .sound-toggle i {
            font-size: 1.8rem;
            color: var(--accent-color);
        }

        /* Animations */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes ripple {
            0% { transform: scale(0); opacity: 0.5; }
            100% { transform: scale(1); opacity: 0; }
        }

        /* Ripple Effect on Buttons */
        .btn::before {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: scale(0);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .btn:hover::before {
            animation: ripple 0.6s ease-out;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .form-container {
                padding: 50px 30px;
            }

            .form-heading {
                font-size: 3rem;
            }

            .columns-2 .input-group {
                flex: 1 1 100%;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1.2rem 2.5rem;
            }

            .menu-toggle {
                display: flex;
            }

            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                height: 100vh;
                background: var(--glass-bg);
                flex-direction: column;
                justify-content: center;
                align-items: center;
                transition: right 0.5s ease;
                backdrop-filter: blur(15px);
                z-index: 1000;
            }

            .nav-links.active {
                right: 0;
            }

            .nav-link {
                margin: 3rem 0;
                font-size: 1.5rem;
            }

            .form-container {
                padding: 40px 20px;
            }

            .form-heading {
                font-size: 2.8rem;
            }

            .form-subheading {
                font-size: 2rem;
            }

            .btn-row {
                flex-direction: column;
            }

            .photo-swatch {
                gap: 20px;
            }

            .gallery-img {
                width: 150px;
                height: 150px;
            }

            .banaras-culture {
                padding: 40px 20px;
            }

            .culture-item {
                flex: 0 0 250px;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 2.2rem;
            }

            .logo-icon {
                font-size: 1.8rem;
            }

            .form-heading {
                font-size: 2.5rem;
            }

            .form-subheading {
                font-size: 1.8rem;
            }

            .input-field {
                font-size: 1rem;
                padding: 14px 18px;
            }

            .btn {
                font-size: 1.1rem;
                padding: 14px 30px;
            }

            .gallery-img {
                width: 120px;
                height: 120px;
            }
        }

        /* High Contrast Mode */
        [data-contrast="high"] {
            --primary-color: #FFFF00;
            --secondary-color: #FF0000;
            --accent-color: #FFFFFF;
            --dark-color: #000000;
            --light-color: #FFFFFF;
            --glass-bg: rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <a href="https://tarqgaur.github.io/" class="logo" aria-label="Miss Banaras Home">
            <i class="fas fa-lotus logo-icon"></i>
            Miss Banaras
        </a>
        <div class="menu-toggle" id="menu-toggle" aria-label="Toggle navigation">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <ul class="nav-links" id="nav-links">
            <li><a href="https://tarqgaur.github.io/" class="nav-link">Home</a></li>
            <li><a href="https://tarqgaur.github.io/#about" class="nav-link">About</a></li>
            <li><a href="https://tarqgaur.github.io/#gallery" class="nav-link">Gallery</a></li>
            <li><a href="https://tarqgaur.github.io/#contact" class="nav-link">Contact</a></li>
            <li><i class="fas fa-moon theme-toggle" id="theme-toggle" aria-label="Toggle theme"></i></li>
        </ul>
    </header>

    <!-- Three.js Canvas -->
    <canvas id="ganges-canvas" aria-hidden="true"></canvas>

    <!-- Main Container -->
    <div class="main-container">
        <div class="form-container" id="form-container">
            <!-- Form Heading -->
            <h1 class="form-heading">Miss Banaras Registration</h1>

            <!-- Banaras Culture Section -->
            <div class="banaras-culture">
                <h2>The Soul of Banaras</h2>
                <p>
                    Miss Banaras is more than a beauty competitionâ€”it's a celebration of Varanasi's eternal spirit. From the sacred Ganges to the vibrant ghats, the glowing diyas to the intricate Banarasi sarees, join us to embody the grace and heritage of this timeless city.
                </p>
                <div class="culture-carousel" id="culture-carousel">
                    <div class="culture-item">
                        <img src="https://i.imgur.com/ghat-img.jpg" class="culture-img" alt="Dashashwamedh Ghat" loading="lazy">
                        <div class="culture-caption">Dashashwamedh Ghat</div>
                    </div>
                    <div class="culture-item">
                        <img src="https://i.imgur.com/saree-img.jpg" class="culture-img" alt="Banarasi Saree" loading="lazy">
                        <div class="culture-caption">Banarasi Saree</div>
                    </div>
                    <div class="culture-item">
                        <img src="https://i.imgur.com/temple-img.jpg" class="culture-img" alt="Kashi Vishwanath Temple" loading="lazy">
                        <div class="culture-caption">Kashi Vishwanath</div>
                    </div>
                    <div class="culture-item">
                        <img src="https://i.imgur.com/diya-img.jpg" class="culture-img" alt="Ganga Aarti Diyas" loading="lazy">
                        <div class="culture-caption">Ganga Aarti</div>
                    </div>
                </div>
            </div>

            <!-- Stepper -->
            <div class="stepper" id="stepper">
                <div class="step active" data-step="auth">
                    <div class="step-circle">1</div>
                    <div class="step-title">Authentication</div>
                </div>
                <div class="step" data-step="registration">
                    <div class="step-circle">2</div>
                    <div class="step-title">Registration</div>
                </div>
                <div class="step" data-step="upload">
                    <div class="step-circle">3</div>
                    <div class="step-title">Photo Upload</div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="tabs" id="tabs">
                <div class="tab active" data-tab="auth">Authentication</div>
                <div class="tab" data-tab="registration">Registration Form</div>
                <div class="tab" data-tab="upload">Photo Upload</div>
            </div>

            <!-- Authentication Tab -->
            <div class="tab-content active" id="auth-tab">
                <div class="auth-section" id="auth-section" style="animation:fadeIn 0.7s ease">
                    <div class="input-group">
                        <label for="email" class="input-label">Email Address*</label>
                        <input type="email" id="email" class="input-field" placeholder="Enter your email address" required aria-required="true">
                        <div class="error-message" id="email-error">Please enter a valid email address</div>
                    </div>

                    <div class="input-group">
                        <label for="password" class="input-label">Password*</label>
                        <input type="password" id="password" class="input-field" placeholder="Create a password" required aria-required="true">
                        <div class="hint-text">Minimum 6 characters</div>
                        <div class="error-message" id="password-error">Password must be at least 6 characters</div>
                    </div>

                    <div class="btn-row">
                        <button id="signUp" class="btn">
                            <span class="btn-text"><i class="fas fa-user-plus"></i> Sign Up</span>
                            <div class="loader" id="signup-loader"></div>
                        </button>
                        <button id="login" class="btn">
                            <span class="btn-text"><i class="fas fa-sign-in-alt"></i> Login</span>
                            <div class="loader" id="login-loader"></div>
                        </button>
                    </div>

                    <button id="googleSignIn" class="btn google-btn">
                        <i class="fab fa-google"></i> Sign in with Google
                        <div class="loader" id="google-loader"></div>
                    </button>

                    <div class="success-message" id="auth-success" style="display:none">
                        <i class="fas fa-check-circle"></i> <span id="auth-greeting"></span>
                    </div>

                    <button id="nextBtn" class="btn next-btn" style="display:none;">
                        <span class="btn-text"><i class="fas fa-arrow-right"></i> Next: Registration</span>
                    </button>
                </div>

                <div id="userData" class="user-info" style="display:none;"></div>

                <button id="logout" style="display:none;" class="btn logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Sign Out
                </button>
            </div>

            <!-- Registration Tab -->
            <div class="tab-content" id="registration-tab">
                <form id="registration-form" style="display:block;">
                    <h2 class="form-subheading">Personal Information</h2>

                    <div class="columns-2">
                        <div class="input-group">
                            <label for="full-name" class="input-label">Full Name*</label>
                            <input type="text" id="full-name" class="input-field" placeholder="Enter your full name" required aria-required="true">
                            <div class="error-message" id="full-name-error">Name is required</div>
                        </div>

                        <div class="input-group">
                            <label for="age" class="input-label">Age*</label>
                            <input type="number" id="age" class="input-field" placeholder="Enter your age" min="16" max="30" required aria-required="true">
                            <div class="error-message" id="age-error">Age must be between 16 and 30</div>
                        </div>
                    </div>

                    <div class="columns-2">
                        <div class="input-group">
                            <label for="phone" class="input-label">Phone Number*</label>
                            <input type="tel" id="phone" class="input-field" placeholder="Enter your phone number" required aria-required="true">
                            <div class="error-message" id="phone-error">Please enter a valid phone number</div>
                        </div>

                        <div class="input-group">
                            <label for="city" class="input-label">City*</label>
                            <input type="text" id="city" class="input-field" placeholder="Enter your city" required aria-required="true">
                            <div class="error-message" id="city-error">City is required</div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="location" class="input-label">Location (Optional)</label>
                        <input type="text" id="location" class="input-field" placeholder="Allow location access" readonly>
                        <button type="button" class="btn" onclick="getUserLocation()">
                            <i class="fas fa-map-marker-alt"></i> Get Location
                        </button>
                    </div>

                    <div class="input-group">
                        <label for="bio" class="input-label">Brief Bio*</label>
                        <textarea id="bio" class="input-field" placeholder="Tell us about yourself (Max 200 words)" required aria-required="true"></textarea>
                        <div class="hint-text" id="bio-counter">0/200 words</div>
                        <div class="error-message" id="bio-error">Bio is required (max 200 words)</div>
                    </div>

                    <h2 class="form-subheading">Contest Details</h2>

                    <div class="input-group">
                        <label for="experience" class="input-label">Previous Pageant Experience (if any)</label>
                        <textarea id="experience" class="input-field" placeholder="Share your pageant experience"></textarea>
                    </div>

                    <div class="input-group">
                        <label for="talents" class="input-label">Special Talents*</label>
                        <input type="text" id="talents" class="input-field" placeholder="Dancing, Singing, etc." required aria-required="true">
                        <div class="error-message" id="talents-error">Please list at least one talent</div>
                    </div>

                    <div class="btn-row" style="margin-top:40px;">
                        <button type="button" class="btn" onclick="saveDraft()">
                            <span class="btn-text"><i class="fas fa-save"></i> Save Draft</span>
                        </button>
                        <button type="submit" class="btn">
                            <span class="btn-text"><i class="fas fa-paper-plane"></i> Submit Registration</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Photo Upload Tab -->
            <div class="tab-content" id="upload-tab">
                <div id="uploadSection" style="display:none;">
                    <h2 class="form-subheading">Submit Your Photos (Max 15)</h2>
                    <p class="hint-text">Upload clear, high-quality photos for the first round of selection.</p>

                    <div class="photo-upload-container" id="dropArea">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="photo-upload-text">Click or drag to upload photos</div>
                        <div class="photo-requirements">Max 5MB each (JPEG/PNG), Up to 15 photos</div>
                        <input type="file" id="fileInput" class="file-input" accept="image/*" multiple aria-label="Upload photos">
                    </div>

                    <div class="selected-file" id="selectedFile"></div>

                    <div class="progress-bar" id="uploadProgress">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p id="status" class="status-message"></p>

                    <div id="preview" style="display:none;" class="photo-swatch"></div>

                    <button id="uploadBtn" class="btn" onclick="uploadImages()">
                        <span class="btn-text"><i class="fas fa-upload"></i> Upload Photos</span>
                        <div class="loader" id="upload-loader"></div>
                    </button>

                    <div class="success-message" id="upload-success">
                        <i class="fas fa-check-circle"></i> Photos uploaded successfully!
                    </div>

                    <h2 class="form-subheading">Uploaded Photos</h2>
                    <div id="gallery" class="photo-swatch"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal" id="imageModal">
        <div class="modal-content">
            <img class="modal-img" id="modalImg" src="" alt="Full-size image">
            <button class="modal-close" onclick="closeModal()" aria-label="Close modal"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <!-- Sound Toggle -->
    <div class="sound-toggle" id="sound-toggle" aria-label="Toggle ambient sound">
        <i class="fas fa-volume-up"></i>
    </div>

    <script type="module">
        /**
         * Miss Banaras Registration System
         * A comprehensive system for user authentication, registration, and photo uploads with a Banaras-inspired UI.
         */

        // Firebase Imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getDatabase, ref, update, onValue, push, set, get } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        /**
         * Firebase Configuration
         * Contains the API keys and settings for Firebase integration.
         */
        const firebaseConfig = {
            apiKey: "AIzaSyCAImdjvo3yjfsxwwGKZp5iDx5VwmhfaDs",
            authDomain: "contact-us-page-missbanaras.firebaseapp.com",
            databaseURL: "https://contact-us-page-missbanaras-default-rtdb.firebaseio.com",
            projectId: "contact-us-page-missbanaras",
            messagingSenderId: "323394332678",
            appId: "1:323394332678:web:99dde90fa03bf6c85ebb87",
            measurementId: "G-6MWHVZ5KG9"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        // Constants
        const BACKEND_URL = "https://miss-banaras-backend.onrender.com";
        const MAX_UPLOADS = 15;

        // DOM Elements
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("password");
        const signUpBtn = document.getElementById("signUp");
        const loginBtn = document.getElementById("login");
        const googleBtn = document.getElementById("googleSignIn");
        const logoutBtn = document.getElementById("logout");
        const nextBtn = document.getElementById("nextBtn");
        const userDataDiv = document.getElementById("userData");
        const statusText = document.getElementById("status");
        const progressBar = document.getElementById("uploadProgress");
        const progressFill = document.getElementById("progressFill");
        const uploadBtn = document.getElementById("uploadBtn");
        const fileInput = document.getElementById("fileInput");
        const selectedFileDisplay = document.getElementById("selectedFile");
        const preview = document.getElementById("preview");
        const gallery = document.getElementById("gallery");
        const stepper = document.getElementById("stepper");
        const imageModal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        const registrationForm = document.getElementById("registration-form");
        const authGreeting = document.getElementById("auth-greeting");
        const soundToggle = document.getElementById("sound-toggle");

        // State Variables
        let currentUser = null;
        let uploadedCount = 0;
        let isRegistrationComplete = false;
        let isSoundOn = false;

        /**
         * Initialize Three.js Ganges Scene
         * Creates a flowing Ganges river with floating diyas and ghats.
         */
        function initThreeJS() {
            const canvas = document.getElementById("ganges-canvas");
            if (!canvas) {
                console.error("Canvas element not found");
                return;
            }

            // Scene Setup
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Water
            const waterGeometry = new THREE.PlaneGeometry(60, 60);
            const waterMaterial = new THREE.MeshBasicMaterial({
                color: 0x4A90E2,
                side: THREE.DoubleSide,
                opacity: 0.7,
                transparent: true
            });
            const water = new THREE.Mesh(waterGeometry, waterMaterial);
            water.rotation.x = Math.PI / 2;
            water.position.y = -5;
            scene.add(water);

            // Diyas
            const diyas = [];
            const diyaGeometry = new THREE.SphereGeometry(0.25, 32, 32);
            const diyaMaterial = new THREE.MeshBasicMaterial({ color: 0xFF8C00 });
            for (let i = 0; i < 60; i++) {
                const diya = new THREE.Mesh(diyaGeometry, diyaMaterial);
                diya.position.set(
                    Math.random() * 50 - 25,
                    -4.5,
                    Math.random() * 50 - 25
                );
                diya.velocity = new THREE.Vector3(
                    (Math.random() - 0.5) * 0.06,
                    0,
                    (Math.random() - 0.5) * 0.06
                );
                diyas.push(diya);
                scene.add(diya);
            }

            // Ghats
            const ghatGeometry = new THREE.BoxGeometry(60, 3, 6);
            const ghatMaterial = new THREE.MeshBasicMaterial({ color: 0x8B6E4E });
            const ghat = new THREE.Mesh(ghatGeometry, ghatMaterial);
            ghat.position.set(0, -6, -25);
            scene.add(ghat);

            // Temple Silhouette (Simplified)
            const templeGeometry = new THREE.BoxGeometry(10, 5, 2);
            const templeMaterial = new THREE.MeshBasicMaterial({ color: 0x221A31 });
            const temple = new THREE.Mesh(templeGeometry, templeMaterial);
            temple.position.set(0, -3, -28);
            scene.add(temple);

            // Camera Setup
            camera.position.set(0, 6, 20);
            camera.lookAt(0, -5, 0);

            // Animation Loop
            let time = 0;
            function animate() {
                requestAnimationFrame(animate);
                time += 0.016;

                // Water Ripple
                waterMaterial.opacity = 0.7 + Math.sin(time) * 0.15;

                // Diyas Movement
                diyas.forEach(diya => {
                    diya.position.add(diya.velocity);
                    if (Math.abs(diya.position.x) > 25 || Math.abs(diya.position.z) > 25) {
                        diya.position.set(
                            Math.random() * 50 - 25,
                            -4.5,
                            Math.random() * 50 - 25
                        );
                        diya.velocity.set(
                            (Math.random() - 0.5) * 0.06,
                            0,
                            (Math.random() - 0.5) * 0.06
                        );
                    }
                });

                renderer.render(scene, camera);
            }

            animate();

            // Resize Handler
            window.addEventListener("resize", () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        /**
         * Initialize Ambient Sound
         * Plays temple bells and Ganges waves (toggleable).
         */
        function initSound() {
            const audio = new Audio('https://freesound.org/data/previews/123/123456_7891012-lq.mp3'); // Placeholder URL
            audio.loop = true;
            audio.volume = 0.3;

            soundToggle.addEventListener("click", () => {
                isSoundOn = !isSoundOn;
                soundToggle.innerHTML = `<i class="fas fa-volume-${isSoundOn ? 'up' : 'mute'}"></i>`;
                if (isSoundOn) {
                    audio.play().catch(err => console.error("Audio playback failed:", err));
                } else {
                    audio.pause();
                }
            });
        }

        /**
         * Initialize Theme
         * Loads saved theme and sets up theme toggle.
         */
        function initTheme() {
            const savedTheme = localStorage.getItem("theme") || "light";
            document.body.setAttribute("data-theme", savedTheme);
            if (savedTheme === "dark") {
                document.getElementById("theme-toggle").classList.remove("fa-moon");
                document.getElementById("theme-toggle").classList.add("fa-sun");
            }

            document.getElementById("theme-toggle").addEventListener("click", () => {
                const body = document.body;
                const currentTheme = body.getAttribute("data-theme") || "light";
                body.setAttribute("data-theme", currentTheme === "light" ? "dark" : "light");
                localStorage.setItem("theme", body.getAttribute("data-theme"));
                document.getElementById("theme-toggle").classList.toggle("fa-moon");
                document.getElementById("theme-toggle").classList.toggle("fa-sun");
            });
        }

        /**
         * Initialize Page
         * Sets up Three.js, sound, and theme on page load.
         */
        window.addEventListener("load", () => {
            try {
                initThreeJS();
                initSound();
                initTheme();
            } catch (err) {
                console.error("Initialization failed:", err);
            }
        });

        /**
         * Tab Navigation
         * Handles tab switching with authentication and registration checks.
         */
        const tabs = document.querySelectorAll(".tab");
        tabs.forEach(tab => {
            tab.addEventListener("click", () => {
                const tabId = tab.getAttribute("data-tab");

                if (!currentUser && tabId !== "auth") {
                    alert("Please authenticate first.");
                    return;
                }

                if (tabId === "upload" && !isRegistrationComplete) {
                    alert("Please complete the registration form.");
                    document.querySelector('[data-tab="registration"]').click();
                    return;
                }

                document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
                document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
                tab.classList.add("active");
                document.getElementById(`${tabId}-tab`).classList.add("active");
                updateStepper(tabId);
            });
        });

        /**
         * Update Stepper
         * Highlights the active step in the stepper.
         * @param {string} tabId - The ID of the active tab.
         */
        function updateStepper(tabId) {
            const steps = stepper.querySelectorAll(".step");
            steps.forEach(step => {
                step.classList.remove("active", "completed");
                if (step.getAttribute("data-step") === tabId) {
                    step.classList.add("active");
                } else if (
                    (tabId === "registration" && step.getAttribute("data-step") === "auth") ||
                    (tabId === "upload" && ["auth", "registration"].includes(step.getAttribute("data-step")))
                ) {
                    step.classList.add("completed");
                }
            });
        }

        /**
         * Save User Data
         * Stores user information in Firebase.
         * @param {Object} user - The authenticated user object.
         */
        function saveUserData(user) {
            update(ref(db, "users/" + user.uid), {
                email: user.email,
                uid: user.uid,
                name: user.displayName || "Anonymous"
            }).catch(err => console.error("Error saving user data:", err));
        }

        /**
         * Fetch User Data
         * Retrieves and displays user data from Firebase.
         * @param {string} uid - The user's unique ID.
         */
        function fetchUserData(uid) {
            onValue(ref(db, "users/" + uid), (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    isRegistrationComplete = !!data.registration;
                    uploadedCount = data.uploads ? Object.keys(data.uploads).length : 0;
                    let uploadsHtml = "";
                    if (data.uploads) {
                        uploadsHtml = "<h4>Your Uploaded Photos:</h4><div class='photo-swatch'>";
                        Object.entries(data.uploads).forEach(([key, upload]) => {
                            uploadsHtml += `
                                <div class="gallery-img-container">
                                    <img src="${upload.secure_url}" class="gallery-img" onclick="openModal('${upload.secure_url}')" alt="Uploaded photo" loading="lazy">
                                </div>
                            `;
                        });
                        uploadsHtml += "</div>";
                    }
                    userDataDiv.innerHTML = `
                        <h3>Welcome, ${data.name}!</h3>
                        <p><strong>Email:</strong> ${data.email}</p>
                        <p><strong>Uploaded Photos:</strong> ${uploadedCount}/${MAX_UPLOADS}</p>
                        ${!isRegistrationComplete ? '<p style="color: var(--error-color);"><strong>Note:</strong> Please complete the registration form to unlock photo uploads.</p>' : ''}
                        ${uploadsHtml}
                    `;
                    userDataDiv.style.display = "block";
                    document.getElementById("auth-success").style.display = "block";
                    authGreeting.innerText = `Welcome, ${data.name}! You are now authenticated.`;
                    gallery.innerHTML = uploadsHtml;
                }
            }, err => console.error("Error fetching user data:", err));
        }

        /**
         * Check Duplicate Photo
         * Verifies if a photo has already been uploaded.
         * @param {string} uid - The user's unique ID.
         * @param {string} fileName - The name of the file to check.
         * @returns {Promise<boolean>} - True if the photo is a duplicate.
         */
        async function checkDuplicatePhoto(uid, fileName) {
            const snapshot = await get(ref(db, `users/${uid}/uploads`));
            if (snapshot.exists()) {
                const uploads = snapshot.val();
                return Object.values(uploads).some(upload => upload.public_id.includes(fileName));
            }
            return false;
        }

        /**
         * Save Upload Data
         * Stores uploaded photo data in Firebase.
         * @param {string} uid - The user's unique ID.
         * @param {Object} imageData - The uploaded image data.
         */
        function saveUploadData(uid, imageData) {
            const uploadRef = push(ref(db, `users/${uid}/uploads`));
            set(uploadRef, {
                public_id: imageData.public_id,
                secure_url: imageData.secure_url,
                timestamp: imageData.created_at,
                user_uid: currentUser.uid,
                user_name: currentUser.displayName || "Anonymous"
            }).catch(err => console.error("Error saving upload data:", err));
        }

        /**
         * Open Image Modal
         * Displays a full-size image in a modal.
         * @param {string} src - The image URL.
         */
        window.openModal = (src) => {
            modalImg.src = src;
            imageModal.style.display = "flex";
        };

        /**
         * Close Image Modal
         * Hides the image modal.
         */
        window.closeModal = () => {
            imageModal.style.display = "none";
            modalImg.src = "";
        };

        /**
         * Get User Location
         * Retrieves the user's geolocation coordinates.
         */
        window.getUserLocation = () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        document.getElementById("location").value = `${latitude}, ${longitude}`;
                    },
                    (err) => {
                        alert("Location access denied: " + err.message);
                    }
                );
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        };

        /**
         * Sign Up Handler
         * Handles user sign-up with email and password.
         */
        signUpBtn.addEventListener("click", () => {
            const email = emailInput.value;
            const password = passwordInput.value;
            if (!email || !password) {
                alert("Please enter email and password.");
                return;
            }
            signUpBtn.disabled = true;
            document.getElementById("signup-loader").style.display = "block";

            createUserWithEmailAndPassword(auth, email, password)
                .then((cred) => {
                    saveUserData(cred.user);
                    fetchUserData(cred.user.uid);
                    nextBtn.style.display = "block";
                    nextBtn.disabled = false;
                })
                .catch((err) => {
                    alert("Sign-up failed: " + err.message);
                })
                .finally(() => {
                    signUpBtn.disabled = false;
                    document.getElementById("signup-loader").style.display = "none";
                });
        });

        /**
         * Login Handler
         * Handles user login with email and password.
         */
        loginBtn.addEventListener("click", () => {
            const email = emailInput.value;
            const password = passwordInput.value;
            if (!email || !password) {
                alert("Please enter email and password.");
                return;
            }
            loginBtn.disabled = true;
            document.getElementById("login-loader").style.display = "block";

            signInWithEmailAndPassword(auth, email, password)
                .then((cred) => {
                    fetchUserData(cred.user.uid);
                    nextBtn.style.display = "block";
                    nextBtn.disabled = false;
                })
                .catch((err) => {
                    alert("Login failed: " + err.message);
                })
                .finally(() => {
                    loginBtn.disabled = false;
                    document.getElementById("login-loader").style.display = "none";
                });
        });

        /**
         * Google Sign-In Handler
         * Handles authentication with Google.
         */
        googleBtn.addEventListener("click", () => {
            const provider = new GoogleAuthProvider();
            googleBtn.disabled = true;
            document.getElementById("google-loader").style.display = "block";

            signInWithPopup(auth, provider)
                .then((result) => {
                    saveUserData(result.user);
                    fetchUserData(result.user.uid);
                    nextBtn.style.display = "block";
                    nextBtn.disabled = false;
                })
                .catch((err) => {
                    alert("Google Sign-In failed: " + err.message);
                })
                .finally(() => {
                    googleBtn.disabled = false;
                    document.getElementById("google-loader").style.display = "none";
                });
        });

        /**
         * Next Button Handler
         * Navigates to the registration tab.
         */
        nextBtn.addEventListener("click", () => {
            if (!nextBtn.disabled) {
                document.querySelector('[data-tab="registration"]').click();
            }
        });

        /**
         * Logout Handler
         * Signs out the user and resets the UI.
         */
        logoutBtn.addEventListener("click", () => {
            signOut(auth)
                .then(() => {
                    userDataDiv.style.display = "none";
                    userDataDiv.innerHTML = "";
                    emailInput.value = "";
                    passwordInput.value = "";
                    progressBar.style.display = "none";
                    statusText.innerText = "";
                    preview.style.display = "none";
                    gallery.innerHTML = "";
                    document.getElementById("auth-success").style.display = "none";
                    nextBtn.style.display = "none";
                    nextBtn.disabled = true;
                    currentUser = null;
                    isRegistrationComplete = false;
                    logoutBtn.style.display = "none";
                    signUpBtn.style.display = "block";
                    loginBtn.style.display = "block";
                    googleBtn.style.display = "block";
                    document.getElementById("uploadSection").style.display = "none";
                    document.getElementById("auth-section").style.display = "block";
                    registrationForm.style.display = "block";
                    document.querySelector('[data-tab="auth"]').click();
                })
                .catch((err) => alert("Logout failed: " + err.message));
        });

        /**
         * File Input Change Handler
         * Handles photo selection and preview.
         */
        fileInput.addEventListener("change", function() {
            const files = Array.from(this.files);
            if (files.length + uploadedCount > MAX_UPLOADS) {
                alert(`You can upload a maximum of ${MAX_UPLOADS} photos.`);
                this.value = "";
                return;
            }
            if (files.length === 0) return;

            selectedFileDisplay.textContent = files.map(f => f.name).join(", ");
            selectedFileDisplay.style.display = "block";

            preview.innerHTML = "";
            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement("img");
                    img.src = e.target.result;
                    img.className = "gallery-img";
                    img.dataset.fileName = file.name;
                    img.alt = "Photo preview";
                    preview.appendChild(img);
                };
                reader.readAsDataURL(file);
            });
            preview.style.display = "block";
        });

        /**
         * Drag and Drop Handlers
         * Handles drag-and-drop functionality for photo uploads.
         */
        const dropArea = document.getElementById("dropArea");
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, unhighlight, false);
        });

        function highlight() {
            dropArea.classList.add('highlight');
        }

        function unhighlight() {
            dropArea.classList.remove('highlight');
        }

        dropArea.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            if (files.length + uploadedCount > MAX_UPLOADS) {
                alert(`You can upload a maximum of ${MAX_UPLOADS} photos.`);
                return;
            }
            fileInput.files = files;
            fileInput.dispatchEvent(new Event('change'));
        }

        /**
         * Upload Images
         * Handles photo uploads to Cloudinary and Firebase.
         */
        window.uploadImages = async () => {
            if (!currentUser) {
                alert("Please log in to upload images.");
                return;
            }

            if (!isRegistrationComplete) {
                alert("Please complete the registration form.");
                document.querySelector('[data-tab="registration"]').click();
                return;
            }

            const files = Array.from(fileInput.files);
            if (files.length === 0) {
                alert("Please select at least one file.");
                return;
            }

            if (files.length + uploadedCount > MAX_UPLOADS) {
                alert(`You can upload a maximum of ${MAX_UPLOADS} photos.`);
                return;
            }

            for (const file of files) {
                if (!file.type.startsWith("image/")) {
                    alert(`"${file.name}" is not an image file.`);
                    return;
                }
                if (file.size > 5 * 1024 * 1024) {
                    alert(`"${file.name}" is too large (max 5MB).`);
                    return;
                }
                const isDuplicate = await checkDuplicatePhoto(currentUser.uid, file.name);
                if (isDuplicate) {
                    alert(`"${file.name}" has already been uploaded.`);
                    return;
                }
            }

            statusText.innerText = "Preparing upload...";
            progressBar.style.display = "block";
            progressFill.style.width = "0%";
            uploadBtn.disabled = true;

            try {
                const sigResponse = await fetch(`${BACKEND_URL}/generate-signature`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        user_uid: currentUser.uid,
                        user_name: currentUser.displayName || "Anonymous"
                    })
                });

                if (!sigResponse.ok) {
                    throw new Error("Failed to fetch signature");
                }

                const sigData = await sigResponse.json();
                let uploadedFiles = [];
                let uploaded = 0;

                for (const file of files) {
                    const formData = new FormData();
                    formData.append("file", file);
                    formData.append("upload_preset", "signed_upload");
                    formData.append("timestamp", sigData.timestamp);
                    formData.append("signature", sigData.signature);
                    formData.append("api_key", sigData.api_key);
                    formData.append("context", `user_uid=${sigData.user_uid}|user_name=${sigData.user_name}`);

                    const xhr = new XMLHttpRequest();
                    xhr.open("POST", `https://api.cloudinary.com/v1_1/${sigData.cloud_name}/image/upload`, true);

                    xhr.upload.onprogress = (event) => {
                        if (event.lengthComputable) {
                            const percent = (event.loaded / event.total) * 100 / files.length + (uploaded / files.length) * 100;
                            progressFill.style.width = `${percent}%`;
                            statusText.innerText = `Uploading: ${Math.round(percent)}%`;
                        }
                    };

                    await new Promise((resolve, reject) => {
                        xhr.onload = () => {
                            if (xhr.status >= 200 && xhr.status < 300) {
                                const data = JSON.parse(xhr.responseText);
                                saveUploadData(currentUser.uid, data);
                                uploaded++;
                                uploadedFiles.push({ fileName: file.name, secure_url: data.secure_url });
                                resolve();
                            } else {
                                reject(new Error(`Upload failed: ${xhr.status}`));
                            }
                        };

                        xhr.onerror = () => reject(new Error("Network error"));
                        xhr.send(formData);
                    });
                }

                const remainingFiles = Array.from(fileInput.files).filter(f => !uploadedFiles.some(uf => uf.fileName === f.name));
                const dataTransfer = new DataTransfer();
                remainingFiles.forEach(f => dataTransfer.items.add(f));
                fileInput.files = dataTransfer.files;

                preview.innerHTML = "";
                remainingFiles.forEach(file => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = document.createElement("img");
                        img.src = e.target.result;
                        img.className = "gallery-img";
                        img.dataset.fileName = file.name;
                        img.alt = "Photo preview";
                        preview.appendChild(img);
                    };
                    reader.readAsDataURL(file);
                });
                if (remainingFiles.length === 0) {
                    preview.style.display = "none";
                    selectedFileDisplay.style.display = "none";
                    selectedFileDisplay.textContent = "";
                }

                uploadedFiles.forEach(({ secure_url }) => {
                    const imgContainer = document.createElement("div");
                    imgContainer.className = "gallery-img-container";
                    const img = document.createElement("img");
                    img.src = secure_url;
                    img.className = "gallery-img";
                    img.alt = "Uploaded photo";
                    img.onclick = () => openModal(secure_url);
                    imgContainer.appendChild(img);
                    gallery.appendChild(imgContainer);
                });

                statusText.innerText = "Upload complete!";
                document.getElementById("upload-success").style.display = "block";
                setTimeout(() => {
                    document.getElementById("upload-success").style.display = "none";
                }, 5000);
                progressFill.style.width = "100%";
                setTimeout(() => {
                    progressBar.style.display = "none";
                    progressFill.style.width = "0%";
                }, 1000);
            } catch (err) {
                statusText.innerText = "Upload failed: " + err.message;
                console.error("Upload error:", err);
            } finally {
                uploadBtn.disabled = false;
                document.getElementById("upload-loader").style.display = "none";
            }
        };

        /**
         * Validate Email
         * Checks if the provided email is valid.
         * @param {string} email - The email to validate.
         * @returns {boolean} - True if valid, false otherwise.
         */
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        /**
         * Validate Password
         * Checks if the password meets the minimum length requirement.
         * @param {string} password - The password to validate.
         * @returns {boolean} - True if valid, false otherwise.
         */
        function validatePassword(password) {
            return password.length >= 6;
        }

        /**
         * Show Error
         * Displays an error message for a form field.
         * @param {string} elementId - The ID of the error message element.
         * @param {string} message - The error message to display.
         */
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.innerText = message;
            errorElement.style.display = "block";
            document.getElementById(elementId.replace("-error", "")).classList.add("error");
        }

        /**
         * Clear Error
         * Hides an error message for a form field.
         * @param {string} elementId - The ID of the error message element.
         */
        function clearError(elementId) {
            const errorElement = document.getElementById(elementId);
            errorElement.style.display = "none";
            document.getElementById(elementId.replace("-error", "")).classList.remove("error");
        }

        /**
         * Real-Time Email Validation
         * Validates the email input as the user types.
         */
        emailInput.addEventListener("input", () => {
            const email = emailInput.value;
            if (email && !validateEmail(email)) {
                showError("email-error", "Please enter a valid email address");
            } else {
                clearError("email-error");
            }
        });

        /**
         * Real-Time Password Validation
         * Validates the password input as the user types.
         */
        passwordInput.addEventListener("input", () => {
            const password = passwordInput.value;
            if (password && !validatePassword(password)) {
                showError("password-error", "Password must be at least 6 characters");
            } else {
                clearError("password-error");
            }
        });

        /**
         * Save Draft
         * Saves the registration form data as a draft in Firebase.
         */
        window.saveDraft = () => {
            if (!currentUser) {
                alert("Please log in to save a draft.");
                return;
            }

            const formData = {
                fullName: document.getElementById("full-name").value,
                age: document.getElementById("age").value,
                phone: document.getElementById("phone").value,
                city: document.getElementById("city").value,
                location: document.getElementById("location").value,
                bio: document.getElementById("bio").value,
                experience: document.getElementById("experience").value,
                talents: document.getElementById("talents").value,
                timestamp: new Date().toISOString()
            };

            update(ref(db, `users/${currentUser.uid}/draft`), formData)
                .then(() => {
                    alert("Draft saved successfully!");
                })
                .catch(err => {
                    alert("Failed to save draft: " + err.message);
                    console.error("Draft save error:", err);
                });
        };

        /**
         * Load Draft
         * Loads saved draft data into the registration form.
         * @param {string} uid - The user's unique ID.
         */
        function loadDraft(uid) {
            get(ref(db, `users/${uid}/draft`)).then(snapshot => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    document.getElementById("full-name").value = data.fullName || "";
                    document.getElementById("age").value = data.age || "";
                    document.getElementById("phone").value = data.phone || "";
                    document.getElementById("city").value = data.city || "";
                    document.getElementById("location").value = data.location || "";
                    document.getElementById("bio").value = data.bio || "";
                    document.getElementById("experience").value = data.experience || "";
                    document.getElementById("talents").value = data.talents || "";
                    updateBioCounter();
                }
            }).catch(err => console.error("Error loading draft:", err));
        }

        /**
         * Validate Registration Form
         * Checks if the registration form inputs are valid.
         * @returns {boolean} - True if valid, false otherwise.
         */
        function validateRegistrationForm() {
            let isValid = true;

            const fullName = document.getElementById("full-name").value;
            if (!fullName) {
                showError("full-name-error", "Name is required");
                isValid = false;
            } else {
                clearError("full-name-error");
            }

            const age = document.getElementById("age").value;
            if (!age || age < 16 || age > 30) {
                showError("age-error", "Age must be between 16 and 30");
                isValid = false;
            } else {
                clearError("age-error");
            }

            const phone = document.getElementById("phone").value;
            const phoneRegex = /^\+?\d{10,15}$/;
            if (!phone || !phoneRegex.test(phone)) {
                showError("phone-error", "Please enter a valid phone number");
                isValid = false;
            } else {
                clearError("phone-error");
            }

            const city = document.getElementById("city").value;
            if (!city) {
                showError("city-error", "City is required");
                isValid = false;
            } else {
                clearError("city-error");
            }

            const bio = document.getElementById("bio").value;
            const bioWords = bio.trim().split(/\s+/).length;
            if (!bio || bioWords > 200) {
                showError("bio-error", "Bio is required (max 200 words)");
                isValid = false;
            } else {
                clearError("bio-error");
            }

            const talents = document.getElementById("talents").value;
            if (!talents) {
                showError("talents-error", "Please list at least one talent");
                isValid = false;
            } else {
                clearError("talents-error");
            }

            return isValid;
        }

        /**
         * Update Bio Counter
         * Updates the word count display for the bio textarea.
         */
        function updateBioCounter() {
            const bio = document.getElementById("bio").value;
            const words = bio.trim().split(/\s+/).filter(w => w.length > 0).length;
            document.getElementById("bio-counter").innerText = `${words}/200 words`;
            if (words > 200) {
                document.getElementById("bio-counter").style.color = "var(--error-color)";
            } else {
                document.getElementById("bio-counter").style.color = "#777";
            }
        }

        /**
         * Bio Input Handler
         * Updates the bio word counter in real-time.
         */
        document.getElementById("bio").addEventListener("input", updateBioCounter);

        /**
         * Registration Form Submission
         * Handles submission of the registration form.
         */
        registrationForm.addEventListener("submit", (e) => {
            e.preventDefault();
            if (!currentUser) {
                alert("Please log in to submit the registration form.");
                return;
            }

            if (!validateRegistrationForm()) {
                alert("Please correct the errors in the form.");
                return;
            }

            const formData = {
                fullName: document.getElementById("full-name").value,
                age: document.getElementById("age").value,
                phone: document.getElementById("phone").value,
                city: document.getElementById("city").value,
                location: document.getElementById("location").value,
                bio: document.getElementById("bio").value,
                experience: document.getElementById("experience").value,
                talents: document.getElementById("talents").value,
                timestamp: new Date().toISOString()
            };

            update(ref(db, `users/${currentUser.uid}/registration`), formData)
                .then(() => {
                    isRegistrationComplete = true;
                    alert("Registration submitted successfully!");
                    document.getElementById("uploadSection").style.display = "block";
                    document.querySelector('[data-tab="upload"]').click();
                })
                .catch(err => {
                    alert("Registration failed: " + err.message);
                    console.error("Registration error:", err);
                });
        });

        /**
         * Auth State Change Handler
         * Updates UI based on the user's authentication state.
         */
        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                logoutBtn.style.display = "block";
                signUpBtn.style.display = "none";
                loginBtn.style.display = "none";
                googleBtn.style.display = "none";
                fetchUserData(user.uid);
                loadDraft(user.uid);
                if (isRegistrationComplete) {
                    document.getElementById("uploadSection").style.display = "block";
                }
            } else {
                currentUser = null;
                isRegistrationComplete = false;
                logoutBtn.style.display = "none";
                signUpBtn.style.display = "block";
                loginBtn.style.display = "block";
                googleBtn.style.display = "block";
                userDataDiv.style.display = "none";
                document.getElementById("auth-success").style.display = "none";
                nextBtn.style.display = "none";
                document.getElementById("uploadSection").style.display = "none";
                document.querySelector('[data-tab="auth"]').click();
            }
        });

        /**
         * Parallax Scrolling Effect
         * Adds a subtle parallax effect to the Banaras culture section.
         */
        function initParallax() {
            const cultureSection = document.querySelector(".banaras-culture");
            window.addEventListener("scroll", () => {
                const scrollPosition = window.pageYOffset;
                const offset = scrollPosition * 0.2;
                cultureSection.style.backgroundPositionY = `${offset}px`;
            });
        }

        /**
         * Lazy Load Images
         * Implements lazy loading for gallery and culture images.
         */
        function initLazyLoading() {
            const images = document.querySelectorAll("img[loading='lazy']");
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src || img.src;
                        observer.unobserve(img);
                    }
                });
            }, { rootMargin: "0px 0px 200px 0px" });

            images.forEach(img => observer.observe(img));
        }

        /**
         * Accessibility Enhancements
         * Adds keyboard navigation and high-contrast mode toggle.
         */
        function initAccessibility() {
            // Keyboard Navigation
            document.querySelectorAll(".nav-link, .tab, .btn, .gallery-img").forEach(element => {
                element.addEventListener("keydown", (e) => {
                    if (e.key === "Enter" || e.key === " ") {
                        e.preventDefault();
                        element.click();
                    }
                });
            });

            // High-Contrast Mode Toggle
            const highContrastToggle = document.createElement("div");
            highContrastToggle.className = "high-contrast-toggle";
            highContrastToggle.innerHTML = '<i class="fas fa-adjust"></i>';
            highContrastToggle.style.position = "fixed";
            highContrastToggle.style.bottom = "100px";
            highContrastToggle.style.right = "30px";
            highContrastToggle.style.background = "var(--glass-bg)";
            highContrastToggle.style.borderRadius = "50%";
            highContrastToggle.style.width = "50px";
            highContrastToggle.style.height = "50px";
            highContrastToggle.style.display = "flex";
            highContrastToggle.style.alignItems = "center";
            highContrastToggle.style.justifyContent = "center";
            highContrastToggle.style.cursor = "pointer";
            highContrastToggle.style.boxShadow = "var(--shadow)";
            highContrastToggle.style.zIndex = "100";
            highContrastToggle.setAttribute("aria-label", "Toggle high contrast mode");
            document.body.appendChild(highContrastToggle);

            highContrastToggle.addEventListener("click", () => {
                const body = document.body;
                const isHighContrast = body.getAttribute("data-contrast") === "high";
                body.setAttribute("data-contrast", isHighContrast ? "normal" : "high");
                localStorage.setItem("contrast", body.getAttribute("data-contrast"));
            });

            // Load saved contrast mode
            const savedContrast = localStorage.getItem("contrast") || "normal";
            document.body.setAttribute("data-contrast", savedContrast);
        }

        /**
         * Diya Glow Animation
         * Adds a glowing effect to buttons on hover.
         */
        function initDiyaGlow() {
            const buttons = document.querySelectorAll(".btn");
            buttons.forEach(button => {
                button.addEventListener("mouseenter", () => {
                    button.style.boxShadow = `0 0 20px var(--diya-glow), 0 0 40px var(--diya-glow)`;
                });
                button.addEventListener("mouseleave", () => {
                    button.style.boxShadow = "var(--shadow)";
                });
            });
        }

        /**
         * Water Ripple Effect
         * Adds a ripple animation on form interactions.
         */
        function initWaterRipple() {
            const inputs = document.querySelectorAll(".input-field");
            inputs.forEach(input => {
                input.addEventListener("focus", () => {
                    const ripple = document.createElement("div");
                    ripple.style.position = "absolute";
                    ripple.style.top = "0";
                    ripple.style.left = "0";
                    ripple.style.width = "100%";
                    ripple.style.height = "100%";
                    ripple.style.background = "radial-gradient(circle, rgba(74, 144, 226, 0.3) 10%, transparent 10.01%)";
                    ripple.style.transform = "scale(0)";
                    ripple.style.borderRadius = "14px";
                    ripple.style.pointerEvents = "none";
                    input.parentElement.appendChild(ripple);
                    ripple.animate([
                        { transform: "scale(0)", opacity: 0.5 },
                        { transform: "scale(2)", opacity: 0 }
                    ], {
                        duration: 600,
                        easing: "ease-out"
                    }).onfinish = () => ripple.remove();
                });
            });
        }

        /**
         * Saree Transition Effect
         * Adds a saree-patterned transition between tabs.
         */
        function initSareeTransition() {
            const tabContents = document.querySelectorAll(".tab-content");
            tabContents.forEach(content => {
                content.addEventListener("transitionstart", () => {
                    if (content.classList.contains("active")) {
                        const overlay = document.createElement("div");
                        overlay.style.position = "absolute";
                        overlay.style.top = "0";
                        overlay.style.left = "0";
                        overlay.style.width = "100%";
                        overlay.style.height = "100%";
                        overlay.style.background = "var(--saree-texture)";
                        overlay.style.opacity = "0.3";
                        overlay.style.transform = "translateX(-100%)";
                        overlay.style.pointerEvents = "none";
                        content.appendChild(overlay);
                        overlay.animate([
                            { transform: "translateX(-100%)", opacity: 0.3 },
                            { transform: "translateX(0)", opacity: 0.3 },
                            { transform: "translateX(100%)", opacity: 0 }
                        ], {
                            duration: 800,
                            easing: "ease-in-out"
                        }).onfinish = () => overlay.remove();
                    }
                });
            });
        }

        /**
         * Initialize Additional Features
         * Sets up parallax, lazy loading, accessibility, and animations.
         */
        function initFeatures() {
            initParallax();
            initLazyLoading();
            initAccessibility();
            initDiyaGlow();
            initWaterRipple();
            initSareeTransition();
        }

        /**
         * Initialize Mobile Menu
         * Sets up the mobile menu toggle.
         */
        function initMobileMenu() {
            const menuToggle = document.getElementById("menu-toggle");
            const navLinks = document.getElementById("nav-links");
            menuToggle.addEventListener("click", () => {
                menuToggle.classList.toggle("active");
                navLinks.classList.toggle("active");
            });
        }

        /**
         * Debounce Function
         * Prevents excessive function calls for performance.
         * @param {Function} func - The function to debounce.
         * @param {number} wait - The wait time in milliseconds.
         * @returns {Function} - The debounced function.
         */
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        /**
         * Throttle Function
         * Limits the rate of function calls for performance.
         * @param {Function} func - The function to throttle.
         * @param {number} limit - The time limit in milliseconds.
         * @returns {Function} - The throttled function.
         */
        function throttle(func, limit) {
            let inThrottle;
            return function (...args) {
                if (!inThrottle) {
                    func(...args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            };
        }

        /**
         * Initialize Scroll Animations
         * Adds fade-in animations for elements on scroll.
         */
        function initScrollAnimations() {
            const elements = document.querySelectorAll(".form-container, .banaras-culture, .stepper, .tabs, .tab-content");
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = "1";
                        entry.target.style.transform = "translateY(0)";
                    }
                });
            }, { threshold: 0.1 });

            elements.forEach(el => {
                el.style.opacity = "0";
                el.style.transform = "translateY(50px)";
                el.style.transition = "opacity 0.6s ease, transform 0.6s ease";
                observer.observe(el);
            });
        }

        /**
         * Initialize Form Animations
         * Adds micro-interactions to form inputs.
         */
        function initFormAnimations() {
            const inputs = document.querySelectorAll(".input-field");
            inputs.forEach(input => {
                input.addEventListener("input", () => {
                    input.style.transform = input.value ? "scale(1.02)" : "scale(1)";
                });
                input.addEventListener("blur", () => {
                    input.style.transform = "scale(1)";
                });
            });
        }

        /**
         * Initialize Performance Optimizations
         * Applies debouncing and throttling to event listeners.
         */
        function initPerformance() {
            window.addEventListener("resize", debounce(() => {
                console.log("Window resized");
            }, 200));

            window.addEventListener("scroll", throttle(() => {
                console.log("Scrolled");
            }, 100));
        }

        /**
         * Initialize Page Enhancements
         * Calls all initialization functions.
         */
        window.addEventListener("load", () => {
            initFeatures();
            initMobileMenu();
            initScrollAnimations();
            initFormAnimations();
            initPerformance();
        });

        /**
         * Error Boundary
         * Catches and logs unhandled errors.
         */
        window.addEventListener("error", (event) => {
            console.error("Unhandled error:", event.message, event.filename, event.lineno);
        });

        /**
         * Console Branding
         * Adds a Banaras-themed message to the console.
         */
        console.log("%cðŸŒ¸ Miss Banaras ðŸŒ¸", "font-size: 20px; color: #F2B134; text-shadow: 0 0 5px #FFD700;");
        console.log("%cCrafted with love for the eternal city of Varanasi", "font-size: 14px; color: #D35269;");

    </script>
</body>
</html>